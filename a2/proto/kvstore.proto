syntax = "proto3";

service KeyValueStore {
    rpc CreateDirectory (Empty) returns (Id) {}
    rpc UploadFile (stream DataBlock) returns (UploadStatus) {}
    rpc Download (Id) returns (stream DataBlock) {}
}

message Empty {}

message Id {
    string id = 1;
}

message DataBlock {
    string dir_id = 1;
    string doc_id = 2;
    string data = 3;
}

message UploadStatus {
    string status = 1;
}